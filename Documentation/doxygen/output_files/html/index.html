<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADXL345 Accelerometer Driver: ADXL345 Accelerometer Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ADXL345 Accelerometer Driver<span id="projectnumber">&#160;v1.0</span>
   </div>
   <div id="projectbrief">This project implements an ADXL345 Accelerometer driver that can be adapted to various microcontrollers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ADXL345 Accelerometer Driver </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro">Introduction</a></li>
<li class="level1"><a href="#version">Version Log</a></li>
<li class="level1"><a href="#architecture">Software Architecture Overview</a></li>
<li class="level1"><a href="#coding-standards">Coding Standards</a></li>
<li class="level1"><a href="#description">Project Description</a></li>
<li class="level1"><a href="#requirements">Project Requirements</a></li>
<li class="level1"><a href="#tools">Tools</a></li>
<li class="level1"><a href="#usage">Usage</a></li>
<li class="level1"><a href="#acronyms">Acronyms</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>This project is a personal endeavor focused on developing reusable firmware for microcontroller platforms. The goal is to create a modular and efficient SPI reusable driver that can be easily adapted to various microcontrollers. The project communicates two boars (Master-Slave) between them. The DIO driver is used to configure the selected SPI port.</p>
<h1><a class="anchor" id="version"></a>
Version Log</h1>
<ul>
<li>[Version 1.0] - Initial release</li>
</ul>
<h1><a class="anchor" id="architecture"></a>
Software Architecture Overview</h1>
<p>The software architecture follows a layered approach. This design pattern separates low-level code (drivers or HALs), and application-specific code. A layered architecture promotes reusability and simplifies the portability between different applications or microcontrollers. The layered architecture can be seen in figure 1 and contains a driver and application layer operating on the hardware.</p>
<center> <table class="doxtable">
<tr>
<td style="background-color: #eaf2ff; text-align: center;">Application Code  </td></tr>
<tr>
<td style="background-color: #e8f8e8; text-align: center;">Drivers  </td></tr>
<tr>
<td style="background-color: #fffbe6; text-align: center;">Hardware  </td></tr>
</table>
Figure 1. Two-Layer Software Architecture. </center><p>The driver layer includes all the code (drivers) necessary to get the microcontroller and any other associated board hardware, such as sensors (accelerometer), buttons, and so forth, running. The application code (main) contains no driver code but has access to the low-level hardware through a driver-layer interface that hides the hardware details from the application developer but still allows them to perform a useful function.</p>
<h1><a class="anchor" id="coding-standards"></a>
Coding Standards</h1>
<p>This project is developed as bare-metal firmware and adheres to industry-standard coding practices, following the MISRA-C guidelines. This includes consistent naming conventions, code formatting, and best practices for code organization and documentation.</p>
<h1><a class="anchor" id="description"></a>
Project Description</h1>
<p>In this setup, the SPI1 is configured as a master. The setting includes a baud rate = 4KHz, full duplex communication, an 8-bit data frame format, and most significant bit transmission. The SPI driver is used to configure the ADXL345 accelerometer. A KY-57 logic analyzer is connected between the MCU and the ADXL345 accelerometer for data reception and analysis. To establish the physical connections, the GPIO driver configures the SPI1 pins. The following table illustrates the pin connections among the Nucleo board, and KY-57 logic analyzer:</p>
<center></center><center><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">SPI Connection   </th><th class="markdownTableHeadNone">Nucleo F401RE   </th><th class="markdownTableHeadNone">ADXL345   </th><th class="markdownTableHeadNone">Logic Analyzer    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NSS   </td><td class="markdownTableBodyNone">PA4   </td><td class="markdownTableBodyNone">CS   </td><td class="markdownTableBodyNone">CH4    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SCK   </td><td class="markdownTableBodyNone">PA5   </td><td class="markdownTableBodyNone">SCL   </td><td class="markdownTableBodyNone">CH1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MISO   </td><td class="markdownTableBodyNone">PA6   </td><td class="markdownTableBodyNone">SDO   </td><td class="markdownTableBodyNone">CH2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MOSI   </td><td class="markdownTableBodyNone">PA7   </td><td class="markdownTableBodyNone">SDA   </td><td class="markdownTableBodyNone">CH3   </td></tr>
</table>
Table 1. SPI Pin Connections. </center><p>The ADXL345_init function configures the ADXL345 accelerometer with 10 bits full resolution at +/-4g and sets the device into measurement mode. The application code retrieves data from the accelerometer's x, and y axes, subsequently processing this data to obtain the g-scale factor.</p>
<h1><a class="anchor" id="requirements"></a>
Project Requirements</h1>
<p>The project aims to meet the following requirements:</p><ul>
<li>Provide a set of reusable functions for ADXL345 accelerometer.</li>
<li>Maintain portability across different microcontroller platforms.</li>
<li>Follow industry-standard coding practices and guidelines.</li>
</ul>
<h1><a class="anchor" id="tools"></a>
Tools</h1>
<p>The current tooling used for this project includes:</p><ul>
<li>Development Board: Nucleo-F401RE</li>
<li>IDE/Debugger: Visual Studio Code (PlatformIO extension)</li>
<li>Compiler Toolchain: GNU ARM Embedded Toolchain</li>
</ul>
<h1><a class="anchor" id="usage"></a>
Usage</h1>
<p>The project is well-documented using Doxygen. Inline comments are used extensively to provide detailed explanations of code functionality, usage, and limitations. The Doxygen-generated documentation provides an easy-to-navigate reference for all project components.</p>
<h1><a class="anchor" id="acronyms"></a>
Acronyms</h1>
<ul>
<li>MCU: Microcontroller Unit</li>
<li>SPI: Serial Peripheral Interface</li>
<li>DIO: Digital Input/Output </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
